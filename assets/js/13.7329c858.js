(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{410:function(e,s,a){e.exports=a.p+"assets/img/accessControlExposeHeaders.608eac36.png"},429:function(e,s,a){"use strict";a.r(s);var t=a(2),r=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("vue项目的axios文件流请求，后端通过响应头 Content-disposition 返回文件名称，但是axios返回响应头信息不存在该字段，经了解后，由于前后端跨域，浏览器能访问到的响应头是有限制的。")]),e._v(" "),s("h3",{attrs:{id:"cors-安全列表响应标头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cors-安全列表响应标头"}},[e._v("#")]),e._v(" "),s("strong",[e._v("CORS 安全列表响应标头")])]),e._v(" "),s("p",[e._v("是CORS 响应中的HTTP标头，它被认为可以安全地暴露给客户端脚本。只有列入安全列表的响应标头可用于网页。")]),e._v(" "),s("p",[e._v("默认情况下，安全列表包含以下响应标头：")]),e._v(" "),s("ul",[s("li",[e._v("Cache-Control")]),e._v(" "),s("li",[e._v("Content-Language")]),e._v(" "),s("li",[e._v("Content-Length")]),e._v(" "),s("li",[e._v("Content-Type")]),e._v(" "),s("li",[e._v("Expires")]),e._v(" "),s("li",[e._v("Last-Modified")]),e._v(" "),s("li",[e._v("Pragma")])]),e._v(" "),s("p",[e._v("如果想要获取额外的响应头，需要将其他标头添加到安全列表 "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Access-Control-Expose-Headers"),s("OutboundLink")],1),e._v(" 。")]),e._v(" "),s("h3",{attrs:{id:"access-control-expose-headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#access-control-expose-headers"}},[e._v("#")]),e._v(" "),s("strong",[e._v("Access-Control-Expose-Headers")])]),e._v(" "),s("p",[e._v("响应标头 Access-Control-Expose-Headers 允许服务器指示那些响应标头可以暴露给浏览器中运行的脚本，以响应跨源请求。")]),e._v(" "),s("h3",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[e._v("#")]),e._v(" 语法")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Access-Control-Expose-Headers: [<header-name>[, <header-name>]*]\nAccess-Control-Expose-Headers: *\n\n")])])]),s("h3",{attrs:{id:"指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指令"}},[e._v("#")]),e._v(" 指令")]),e._v(" "),s("p",[e._v("允许客户端从响应中访问的 0 个或多个使用逗号分隔的标头名称列表。这些标头是对 CORS 安全列表的响应标头 (en-US)的补充。")]),e._v(" "),s("p",[s("em",[e._v("（通配符）\n若请求没有携带凭据（请求没有 HTTP Cookie或认证信息），“")]),e._v("”才会被当作一个特殊的通配符。对于带有凭据的请求，会被简单地当作标头名称“*”，没有特殊的语义。")]),e._v(" "),s("h3",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),s("p",[e._v("想要暴露一个非简单响应标头，可以这样指定：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Access-Control-Expose-Headers: Content-disposition\n")])])]),s("p",[e._v("想要额外暴露自定义的标头，例如 Kuma-Revision，可以指定多个，用逗号隔开：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Access-Control-Expose-Headers: Content-disposition, Kuma-Revision\n")])])]),s("p",[e._v("服务器可以为不带凭据的请求响应通配符：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Access-Control-Expose-Headers: *\n")])])]),s("p",[e._v("但是，这并不会匹配 Authorization 标头，所以如果你要暴露它，需要显式指定：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Access-Control-Expose-Headers: *, Authorization\n")])])]),s("p",[e._v("浏览器兼容性\n"),s("img",{attrs:{src:a(410),alt:"accessControlExposeHeaders"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);